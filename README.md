# Iндiана Джонс i останнiй прямокутний обхiд
> Код задачі: **IJONES** 

В пошуках Святого Грааля Iндiана Джонс зiткнувся з небезпечним випробуванням.
Йому потрiбно пройти крiзь прямокутний коридор, який складається з крихких плит
(пригадайте сцену з фiльму «Iндiана Джонс i останнiй хрестовий похiд»). На кожнiй
плитi написана одна лiтера:

![Виходи з коридору](https://github.com/KhrystynaVysotska/indiana_jones_problem/blob/lab_4/img/screen1.jpg?raw=true)

Можна починати з будь-якої плити в найлiвiшому стовпцi. Виходом iз коридору є
верхня права та нижня права плити (для прикладу вище — a та f).
Iндiана спритний, i може переходити не лише на сусiдню плиту, а й перестрибувати
через кiлька плит. Проте, щоб не провалитися крiзь пiдлогу, вiн повинен дотримуватися
таких правил:
1. Пiсля кожного кроку Iндiана повинен опинятися правiше, нiж був перед цим. \
![Рухатись можна лише вправо](https://github.com/KhrystynaVysotska/indiana_jones_problem/blob/lab_4/img/screen2.jpg?raw=true)
1. Завжди можна переходити на одну плиту праворуч. \
![Рухатись можна лише вправо](https://github.com/KhrystynaVysotska/indiana_jones_problem/blob/lab_4/img/screen3.jpg?raw=true)
1. Крiм руху на одну плиту праворуч, можна перестрибувати, проте лише на ту
саму лiтеру. Наприклад, з лiтери a можна перестрибнути на будь-яку iншу
лiтеру a за умови, що ми цим ходом просунемося правiше. \
![Можна перестрибувати на будь - яку плитку з такою ж самою літерою за умови, що вона праворуч](https://github.com/KhrystynaVysotska/indiana_jones_problem/blob/lab_4/img/screen4.jpg?raw=true)

Для заданого коридору, пiдрахуйте, скiльки всього iснує способiв пройти його успiшно.

### *Вхiднi данi*

Вхiдний файл ijones .in складається з H + 1 рядкiв.

* Перший рядок мiстить два числа W i H, роздiленi пробiлом: W — ширина
коридору, H — висота коридору, 1 <= W, H <= 2000.
* Кожен з наступних H рядкiв мiстить слово довжиною W символiв, яке складається
з малих латинських лiтер вiд a до z.

### *Вихiднi данi*

Вихiдний файл ijones .out повинен мiстити одне цiле число — кiлькiсть рiзних
шляхiв для виходу з коридору.

>### Приклад 1
>
#### ijones .in
>
>3 3 \
>aaa \
>cab \
>def 
>
#### ijones .out
>5
>Пояснення: Iснує 3 варiанти обходу, якщо починати з лiтери a, i по одному варiанту,
якщо починати з лiтери c або d.

### Приклад 2
>
#### ijones .in
>
>10 1
>abcdefaghi
>
#### ijones .out
>2

### Приклад 3
>
#### ijones .in
>
>7 6 \
>aaaaaaa \
>aaaaaaa \
>aaaaaaa \
>aaaaaaa \
>aaaaaaa \
>aaaaaaa 
>
#### ijones .out
>201684

### Installation

Use [git](https://git-scm.com/downloads/) to install lab code
```
git clone https://github.com/KhrystynaVysotska/indiana_jones_problem.git
```

### Usage
In command line use [python](https://www.python.org/)
```
python successful_ways.py
```

### Algorithm
Розв'язок базується на динамічному програмуванні. Я розбиваю увесь коридор на частинки, при чому для кожної частинки, яка розглядається, шляхи до всіх плиток по ліву сторону відомі, а праву сторону коридору ми ще не бачимо. Для першої лівої колонки завжди справджується, що до всіх її плиток є лише один спосіб дістатися - просто стати на них. Таким чином початкові значення нам відомі. Далі розглядається друга колонка, тоді третя і тд. Для кожної з їх плиток буде відомий шлях зліва, адже шляхи до всіх плиток ліворуч на момент розгляду даної вже обчислені.
Для оптимізації алгоритму я використовую допоміжну структуру, а саме словник, де зберігаю літеру (яка може повторюватись на багатьох плитках) і всі можливі шляхи до плиток з цією літерою, які ми вже розглянули на момент виконання програми. Це дозволяє не перебирати всю матрицю (коридор) для пошуку плиток з такою ж літерою, як та, що знаходиться на плитці, яка розглядається.
